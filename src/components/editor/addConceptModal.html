<form name="conceptForm">
  <modal-template>
    <modal-title>{{ctrl.defineConceptTitle | translate}}</modal-title>

    <modal-body>

      <editable title="Concept">
        <div class="input-group input-group-md">
          <input id="conceptLabel" type="text" class="form-control" autofocus required string-input="label" ng-model="ctrl.conceptLabel" />
        </div>
      </editable>

      <editable title="Definition">
        <div class="input-group input-group-md">
          <textarea id="conceptComment" class="form-control" autofocus required string-input ng-model="ctrl.conceptComment"></textarea>
        </div>
      </editable>

      <editable title="{{ctrl.labelTitle}}">
        <div class="input-group input-group-md">
          <input id="name" type="text" class="form-control" required string-input="label" ng-model="ctrl.label" />
        </div>
      </editable>

      <editable title="Broader concept">
        <div class="input-group">
          <input id="concept"
                 type="text"
                 class="form-control"
                 iow-typeahead
                 selection-mapper="ctrl.mapSelection"
                 options="ctrl.options"
                 datasets="ctrl.dataset"
                 ng-model="ctrl.broaderConcept"
                 placeholder="{{'Search from concept database' | translate}}"/>
          <i class="glyphicon glyphicon-search form-control-feedback"></i>
        </div>
      </editable>

      <div ng-if="ctrl.broaderConcept">
        <label for="concept" translate>Chosen concept</label>
        <p>{{ctrl.broaderConcept | translateLabel}}</p>

        <label for="concept" translate>Definition</label>
        <p>{{ctrl.broaderConcept.comment | translateValue}}</p>
      </div>

      <p><span translate>Concept is suggested to scheme</span> {{ctrl.reference.label | translateValue}}</p>
    </modal-body>

    <modal-buttons>
      <button class="btn btn-default" type="button" ng-click="ctrl.cancel()" translate>Cancel</button>
      <button class="btn btn-default" type="button" ng-click="ctrl.create()" ng-disabled="!conceptForm.$valid" translate>Create new</button>
    </modal-buttons>
  </modal-template>
</form>
