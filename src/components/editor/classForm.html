
<h4>{{ctrl.class.normalizedType + ' information' | capitalize | translate}}</h4>

<editable data-title="{{ctrl.class.normalizedType + ' label' | capitalize}}" autofocus>
  <input id="classLabel" class="form-control" type="text" localized-input="label" ng-model="ctrl.class.label"/>
</editable>

<editable data-title="{{ctrl.class.normalizedType + ' id' | capitalize}}">
  <input id="classId" class="form-control" type="text" required id-input="class" old="ctrl.oldClass" ng-model="ctrl.class.id" ng-disabled="!ctrl.inUnstableState" />
</editable>

<editable data-title="Description">
  <textarea id="classComment" class="form-control" localized-input ng-model="ctrl.class.comment"></textarea>
</editable>

<editable ng-if="ctrl.class.isOfType('class')" data-title="Superclass" link="ctrl.linkToSuperclass()">
  <uri-select id="superClass" type="class" uri="ctrl.class.subClassOf" model="ctrl.model" after-selected="ctrl.addPropertiesFromClass(id, 'super')"></uri-select>
</editable>

<editable ng-if="ctrl.class.isOfType('shape')" data-title="Specialized from class" link="ctrl.linkToScopeclass()">
  <uri-select id="scopeClass" type="class" uri="ctrl.class.scopeClass" model="ctrl.model" mandatory="true" after-selected="ctrl.addPropertiesFromClass(id, 'scope')"></uri-select>
</editable>

<editable-multiple-uri-select id="equivalentClass" type="class" ng-model="ctrl.class.equivalentClasses" model="ctrl.model" data-title="{{'Equivalent class'}}"></editable-multiple-uri-select>

<defined-by entity="ctrl.class" model="ctrl.model"></defined-by>

<editable data-title="State" value-as-localization-key="true" ng-if="!ctrl.class.unsaved">
  <state-select id="classState" state="ctrl.class.state" model="ctrl.model"></state-select>
</editable>

<editable-subject-select references="ctrl.model.references" type="class" subject="ctrl.class.subject" disable="!ctrl.inUnstableState"></editable-subject-select>

<div ng-show="ctrl.class.properties.length > 0">
  <h4>{{ctrl.class.normalizedType + ' properties' | capitalize | translate}}</h4>

  <uib-accordion close-others="true">
    <uib-accordion-group ng-repeat="property in ctrl.class.properties | orderBy: 'index' track by property.internalId.value" is-open="ctrl.propertyViews[property.internalId.uri].isOpen">
      <uib-accordion-heading>
        <span ng-class="property.glyphIconClass"></span>
        <span>{{property | translateLabel}}</span>
        <accordion-chevron is-open="ctrl.propertyViews[property.internalId.uri].isOpen"></accordion-chevron>
        <div class="property-ordering" ng-show="ctrl.isEditing()">
        <span ng-show="!$first"
              class="glyphicon glyphicon-chevron-up"
              ng-click="ctrl.movePropertyUp($event, property)"></span>
          <br />
        <span ng-show="!$last"
              class="glyphicon glyphicon-chevron-down"
              ng-click="ctrl.movePropertyDown($event, property)"></span>
        </div>
      </uib-accordion-heading>
      <property-view property="property" class="ctrl.class" model="ctrl.model"></property-view>
    </uib-accordion-group>
  </uib-accordion>
</div>

<h4 translate>Additional information</h4>

<div ng-show="ctrl.model.isOfType('profile') && (ctrl.class.constraint.isVisible() || ctrl.isEditing())">
  <editable-constraint constraint="ctrl.class.constraint" model="ctrl.model" class="ctrl.class"></editable-constraint>
</div>

<usage-panel entity="ctrl.class"></usage-panel>
