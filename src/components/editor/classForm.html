
<h4>{{ctrl.class.normalizedType + ' information' | capitalize | translate}}</h4>

<editable title="{{ctrl.class.normalizedType + ' label' | capitalize}}">
  <input id="classLabel" class="form-control" type="text" localized-input="label" ng-model="ctrl.class.label"/>
</editable>

<editable title="{{ctrl.class.normalizedType + ' id' | capitalize}}">
  <input id="classId" class="form-control" type="text" required id-input="class" old="ctrl.oldClass" ng-model="ctrl.class.curie" ng-disabled="!ctrl.inUnstableState" />
</editable>

<editable title="Comment">
  <textarea id="classComment" class="form-control" localized-input ng-model="ctrl.class.comment"></textarea>
</editable>

<editable ng-if="ctrl.class.isOfType('class')" title="Superclass" link="ctrl.linkToSuperclass()">
  <curie-select id="superClass" type="class" curie="ctrl.class.subClassOf" model="ctrl.model" after-selected="ctrl.addPropertiesFromClass(id, 'super')"></curie-select>
</editable>

<editable ng-if="ctrl.class.isOfType('shape')" title="Specialized from class" link="ctrl.linkToScopeclass()">
  <curie-select id="scopeClass" type="class" curie="ctrl.class.scopeClass" model="ctrl.model" mandatory="true" after-selected="ctrl.addPropertiesFromClass(id, 'scope')"></curie-select>
</editable>

<editable-multiple-curie-select id="equivalentClass" type="class" curies="ctrl.class.equivalentClasses" model="ctrl.model" title="{{'Equivalent class'}}" allow-input="true"></editable-multiple-curie-select>

<non-editable title="Is defined by" value="ctrl.class.definedBy.label" link="ctrl.class.iowUrl()"></non-editable>

<editable title="State" value-as-localization-key="true" ng-if="!ctrl.class.unsaved">
  <state-select id="classState" state="ctrl.class.state" model="ctrl.model"></state-select>
</editable>

<editable-subject-select references="ctrl.model.references" type="class" subject="ctrl.class.subject" disable="!ctrl.inUnstableState"></editable-subject-select>

<div ng-show="ctrl.class.properties.length > 0">
  <h4>{{ctrl.class.normalizedType + ' properties' | capitalize | translate}}</h4>

  <uib-accordion close-others="true">
    <uib-accordion-group ng-repeat="property in ctrl.class.properties  | orderBy:'index'" is-open="ctrl.propertyViews[property.id].isOpen">
      <uib-accordion-heading>
        <span ng-class="property.glyphIconClass"></span>
        <span>{{property | translateLabel}}</span>
        <accordion-chevron is-open="ctrl.propertyViews[property.id].isOpen"></accordion-chevron>
        <div class="property-ordering" ng-show="ctrl.isEditing()">
        <span ng-show="!$first"
              class="glyphicon glyphicon-chevron-up"
              ng-click="ctrl.movePropertyUp($event, property)"></span>
          <br />
        <span ng-show="!$last"
              class="glyphicon glyphicon-chevron-down"
              ng-click="ctrl.movePropertyDown($event, property)"></span>
        </div>
      </uib-accordion-heading>
      <property-view property="property" class="ctrl.class" model="ctrl.model"></property-view>
    </uib-accordion-group>
  </uib-accordion>
</div>

<div ng-show="ctrl.class.isOfType('shape') && (ctrl.class.constraint.isVisible() || ctrl.isEditing())">
  <h4 translate>Logical constraints</h4>
  <editable-constraint constraint="ctrl.class.constraint" model="ctrl.model"></editable-constraint>
</div>

<h4 translate>Additional information</h4>

<usage-panel entity="ctrl.class"></usage-panel>
