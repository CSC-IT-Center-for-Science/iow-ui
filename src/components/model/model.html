<div ng-hide="ctrl.firstLoading && ctrl.loading">

  <model-view ng-if="ctrl.model" model="ctrl.model" model-controller="ctrl"></model-view>

  <div class="bottom" ng-if="!ctrl.model.unsaved">
    <div class="model-panel--left" float="model-panel--left-placeholder">
      <uib-tabset>
        <uib-tab active="tab.active" ng-repeat="tab in ctrl.tabs">
          <uib-tab-heading>
            <i ng-class="tab.glyphIconClass"></i><p>{{tab.type | translate}}</p>
          </uib-tab-heading>

          <button ng-show="ctrl.canEdit()" type="button" class="btn btn-default btn-md add-new-button" ng-click="tab.addNew()">{{tab.addLabel | translate}}</button>

          <ul class="panel__list" ng-class="{'has-button': ctrl.canEdit()}">
            <li ng-repeat="item in tab.items()"
                ng-class="{'model-panel__selection': ctrl.isSelected(item)}"
                ng-click="ctrl.select(item)">
              {{item.label}} <ajax-loading-indicator-small ng-if="ctrl.isLoading(item)"></ajax-loading-indicator-small>
            </li>
          </ul>
        </uib-tab>
      </uib-tabset>
    </div>

    <div class="model-panel--right">
      <class-view ng-if="ctrl.selection.isClass()" class="ctrl.selection" model="ctrl.model" model-controller="ctrl" show="ctrl.show" ng-class="ctrl.classForSelection()"></class-view>
      <predicate-view ng-if="ctrl.selection.isPredicate()" predicate="ctrl.selection" model="ctrl.model" model-controller="ctrl" show="ctrl.show" ng-class="ctrl.classForSelection()"></predicate-view>
      <visualization-view ng-if="ctrl.model" selection="ctrl.selection" model="ctrl.model" show="ctrl.show" ng-class="ctrl.classForVisualization()" change-notifier="ctrl"></visualization-view>
    </div>
  </div>
</div>
